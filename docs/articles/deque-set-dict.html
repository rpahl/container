<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Deque, Set, and Dict • container</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Deque, Set, and Dict">
<meta property="og:description" content="Presents the specialized data structures Deque, Set, and Dict.
">
<meta property="og:image" content="https://github.com/rpahl/container/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">container</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/container.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a></a>
    </li>
    <li>
      <a href="../articles/index.html">Overview</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Get started</li>
    <li>
      <a href="../articles/container.html">Introduction to container</a>
    </li>
    <li>
      <a href="../articles/code-development.html">Container operations for robust code</a>
    </li>
    <li>
      <a href="../articles/parameter-list.html">Manage parameter lists with dict</a>
    </li>
    <li>
      <a href="../articles/manage-data-columns.html">Manage data columns with dict.table</a>
    </li>
    <li class="divider">
    </li>
<li class="dropdown-header">Other</li>
    <li>
      <a href="../articles/deque-set-dict.html">Deque, Set, and Dict</a>
    </li>
    <li>
      <a href="../articles/reference-semantics.html">Reference semantics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    My packages
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://rpahl.github.io/container/" class="external-link">container</a>
    </li>
    <li>
      <a href="https://rpahl.github.io/GroupSeq/" class="external-link">GroupSeq</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rpahl/container/">
    <span class="fab fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/users/8120617/rpahl" class="external-link">
    <span class="fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/romanpahl" class="external-link">
    <span class="fab fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://rpahl.github.io/r-some-blog/" class="external-link">
    <span class="fas fa-blog"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Deque, Set, and Dict</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rpahl/container/blob/HEAD/vignettes/deque-set-dict.Rmd"><code>vignettes/deque-set-dict.Rmd</code></a></small>
      <div class="hidden name"><code>deque-set-dict.Rmd</code></div>

    </div>

    
    
<p>The container package provides specialized data structures that technically are all derived from the <code>Container</code> class. As such they share all of the container functions with some of them being overridden to account for the specialized data structure. In particular, all of the derived structures still provide positional element access to still behave similar to base R lists.</p>
<div class="section level2">
<h2 id="deque">Deque<a class="anchor" aria-label="anchor" href="#deque"></a>
</h2>
<p>Deques (double ended queues) are a generalization of stacks and queues and therefore also can be used to mimic these.</p>
<div class="section level3">
<h3 id="stack">Stack<a class="anchor" aria-label="anchor" href="#stack"></a>
</h3>
<p>A stack is a last-in-first-out (LIFO) data structure with two basic operations, push and pop, which in this case are mimicked with <code>ref_add</code> and <code>ref_pop</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mimic stack</span></span>
<span><span class="va">s</span> <span class="op">=</span> <span class="fu"><a href="../reference/dequeS3.html">deque</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">s</span></span>
<span><span class="co"># ||</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">s</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">s</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">s</span></span>
<span><span class="co"># |1, 2|</span></span>
<span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_pop</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span><span class="co"># [1] 2</span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_pop</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span><span class="co"># [1] 1</span></span>
<span><span class="va">s</span></span>
<span><span class="co"># ||</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="queues">Queues<a class="anchor" aria-label="anchor" href="#queues"></a>
</h3>
<p>A queue is a first-in-first-out (FIFO) data structure with two basic operations, push and pop_left (or enqueue and dequeue), which in this case are mimicked with <code>ref_add</code> and <code>ref_popleft</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mimic queue</span></span>
<span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/dequeS3.html">deque</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">q</span></span>
<span><span class="co"># ||</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">q</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">q</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">q</span></span>
<span><span class="co"># |1, 2|</span></span>
<span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_popleft</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span>
<span><span class="co"># [1] 1</span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_popleft</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span>
<span><span class="co"># [1] 2</span></span>
<span><span class="va">q</span></span>
<span><span class="co"># ||</span></span></code></pre></div>
<p>A double-ended queue works on both ends and also provides rotate and reverse operations.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="../reference/dequeS3.html">as.deque</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">d</span></span>
<span><span class="co"># |1L, 2L, 3L, 4L|</span></span>
<span><span class="fu"><a href="../reference/rev.html">rev</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span>
<span><span class="co"># |4L, 3L, 2L, 1L|</span></span>
<span><span class="fu"><a href="../reference/rotate.html">rotate</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># |3L, 4L, 1L, 2L|</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="set">Set<a class="anchor" aria-label="anchor" href="#set"></a>
</h2>
<p>All elements of a set are unique. Basic set operations are provided.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"1"</span>, <span class="fl">2</span>, <span class="va">cars</span><span class="op">)</span></span>
<span><span class="va">s2</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">1</span>,      <span class="fl">2</span>, <span class="fl">3</span>, <span class="va">iris</span><span class="op">)</span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&amp;</span> <span class="va">s2</span></span>
<span><span class="co"># {1, 2}</span></span>
<span><span class="va">s1</span> <span class="op">|</span> <span class="va">s2</span></span>
<span><span class="co"># {1, "1", 2, &lt;&lt;data.frame(50x2)&gt;&gt;, 3, &lt;&lt;data.frame(150x5)&gt;&gt;}</span></span>
<span><span class="va">s1</span> <span class="op">-</span> <span class="va">s2</span></span>
<span><span class="co"># {"1", &lt;&lt;data.frame(50x2)&gt;&gt;}</span></span></code></pre></div>
<p>It is important to note that set comparison for the standard set is not order-invariant, e.g.:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">s2</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">s1</span> <span class="op">==</span> <span class="va">s2</span></span>
<span><span class="co"># [1] FALSE</span></span></code></pre></div>
<p>This property is intended to allow positional access also in sets (remember that technically the ‘Set’ class is derived from ‘Container’).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="co"># {1, 2}</span></span>
<span><span class="va">s2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="co"># {2, 1}</span></span></code></pre></div>
<p>If you want order-invariant sets, just use the <code>OrderedSet</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">os1</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">as.orderedset</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="va">os2</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">as.orderedset</a></span><span class="op">(</span><span class="va">s2</span><span class="op">)</span></span>
<span><span class="va">os1</span></span>
<span><span class="co"># {1, 2, 3}</span></span>
<span><span class="va">os2</span></span>
<span><span class="co"># {1, 2, 3}</span></span>
<span><span class="va">os1</span> <span class="op">==</span> <span class="va">os2</span></span>
<span><span class="co"># [1] TRUE</span></span></code></pre></div>
<p>Last but not least, the <code>container</code> package only covers a small range of sets and set functions. For a wide range of set functionality and data structures such as fuzzy sets, multisets, customizable sets and intervals, please refer to the <a href="https://CRAN.R-project.org/package=sets" class="external-link">sets</a> package by David Meyer.</p>
</div>
<div class="section level2">
<h2 id="dict">Dict<a class="anchor" aria-label="anchor" href="#dict"></a>
</h2>
<p>In a dictionary, each element is mapped to a name. In the <code>container</code> package, dicts are always sorted by name, either after initialization …</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>z <span class="op">=</span> <span class="fl">2</span>, a <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">d</span></span>
<span><span class="co"># {a = 10, z = 2}</span></span></code></pre></div>
<p>… or when new elements are added.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span><span class="op">[[</span><span class="st">"x"</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="va">d</span></span>
<span><span class="co"># {a = 10, x = 1, z = 2}</span></span></code></pre></div>
<p>If added using the <code>add</code> function, a name clash is signaled to prevent overwriting existing elements.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/add.html">add</a></span><span class="op">(</span><span class="va">d</span>, z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co"># Error: name 'z' exists already</span></span></code></pre></div>
<p>To overwrite, you can use one of three approaches.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span><span class="op">[[</span><span class="st">"z"</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="fu"><a href="../reference/replace_at.html">replace_at</a></span><span class="op">(</span><span class="va">d</span>, z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co"># {a = 10, x = 1, z = 3}</span></span>
<span><span class="fu"><a href="../reference/update.html">update</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># {a = 10, x = 1, z = 3}</span></span></code></pre></div>
<p>By design, elements can be accessed by name or position, the latter always based on the ordered elements.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span><span class="op">[</span><span class="st">"x"</span>, <span class="st">"a"</span><span class="op">]</span></span>
<span><span class="co"># {a = 10, x = 1}</span></span>
<span><span class="va">d</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co"># {a = 10, x = 1}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/add.html">add</a></span><span class="op">(</span><span class="va">d</span>, b <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co"># {a = 10, b = 3}</span></span></code></pre></div>
<p>For more examples see the vignette <a href="https://rpahl.github.io/container/articles/parameter-list.html" class="external-link">Manage parameter lists with dict</a>.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://rpahl.github.io/r-some-blog/about.html" class="external-link">Roman Pahl</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
