<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Deque, Set, and Dict • container</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Deque, Set, and Dict">
<meta name="description" content="Presents the specialized data structures Deque, Set, and Dict.
">
<meta property="og:description" content="Presents the specialized data structures Deque, Set, and Dict.
">
<meta property="og:image" content="https://github.com/rpahl/container/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">container</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/container.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/index.html">Overview</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Get started</h6></li>
    <li><a class="dropdown-item" href="../articles/container.html">Introduction to container</a></li>
    <li><a class="dropdown-item" href="../articles/code-development.html">Container operations for robust code</a></li>
    <li><a class="dropdown-item" href="../articles/parameter-list.html">Manage parameter lists with dict</a></li>
    <li><a class="dropdown-item" href="../articles/manage-data-columns.html">Manage data columns with dict.table</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other</h6></li>
    <li><a class="dropdown-item" href="../articles/deque-set-dict.html">Deque, Set, and Dict</a></li>
    <li><a class="dropdown-item" href="../articles/reference-semantics.html">Reference semantics</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="https://github.com/rpahl/container/" aria-label="github"><span class="fa fab fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/users/8120617/rpahl" aria-label="stackoverflow"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/rpahl.bsky.social" aria-label="bluesky"><span class="fa fab fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://rpahl.github.io/r-some-blog/" aria-label="blog"><span class="fa fas fa-blog"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Deque, Set, and Dict</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rpahl/container/blob/HEAD/vignettes/deque-set-dict.Rmd"><code>vignettes/deque-set-dict.Rmd</code></a></small>
      <div class="d-none name"><code>deque-set-dict.Rmd</code></div>
    </div>

    
    
<p>The container package provides specialized data structures that
technically are all derived from the <code>Container</code> class. As
such they share all of the container functions with some of them being
overridden to account for the specialized data structure. In particular,
all of the derived structures still provide positional element access to
still behave similar to base R lists.</p>
<div class="section level2">
<h2 id="deque">Deque<a class="anchor" aria-label="anchor" href="#deque"></a>
</h2>
<p>Deques (double ended queues) are a generalization of stacks and
queues and therefore also can be used to mimic these.</p>
<div class="section level3">
<h3 id="stack">Stack<a class="anchor" aria-label="anchor" href="#stack"></a>
</h3>
<p>A stack is a last-in-first-out (LIFO) data structure with two basic
operations, push and pop, which in this case are mimicked with
<code>ref_add</code> and <code>ref_pop</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mimic stack</span></span>
<span><span class="va">s</span> <span class="op">=</span> <span class="fu"><a href="../reference/dequeS3.html">deque</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">s</span></span>
<span><span class="co"># ||</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">s</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">s</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">s</span></span>
<span><span class="co"># |1, 2|</span></span>
<span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_pop</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span><span class="co"># [1] 2</span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_pop</a></span><span class="op">(</span><span class="va">s</span><span class="op">)</span></span>
<span><span class="co"># [1] 1</span></span>
<span><span class="va">s</span></span>
<span><span class="co"># ||</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="queues">Queues<a class="anchor" aria-label="anchor" href="#queues"></a>
</h3>
<p>A queue is a first-in-first-out (FIFO) data structure with two basic
operations, push and pop_left (or enqueue and dequeue), which in this
case are mimicked with <code>ref_add</code> and
<code>ref_popleft</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Mimic queue</span></span>
<span><span class="va">q</span> <span class="op">=</span> <span class="fu"><a href="../reference/dequeS3.html">deque</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">q</span></span>
<span><span class="co"># ||</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">q</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/add.html">ref_add</a></span><span class="op">(</span><span class="va">q</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="va">q</span></span>
<span><span class="co"># |1, 2|</span></span>
<span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_popleft</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span>
<span><span class="co"># [1] 1</span></span>
<span><span class="fu"><a href="../reference/pop.html">ref_popleft</a></span><span class="op">(</span><span class="va">q</span><span class="op">)</span></span>
<span><span class="co"># [1] 2</span></span>
<span><span class="va">q</span></span>
<span><span class="co"># ||</span></span></code></pre></div>
<p>A double-ended queue works on both ends and also provides rotate and
reverse operations.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="../reference/dequeS3.html">as.deque</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span>
<span><span class="va">d</span></span>
<span><span class="co"># |1L, 2L, 3L, 4L|</span></span>
<span><span class="fu"><a href="../reference/rev.html">rev</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span>
<span><span class="co"># |4L, 3L, 2L, 1L|</span></span>
<span><span class="fu"><a href="../reference/rotate.html">rotate</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co"># |3L, 4L, 1L, 2L|</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="set">Set<a class="anchor" aria-label="anchor" href="#set"></a>
</h2>
<p>All elements of a set are unique. Basic set operations are
provided.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">"1"</span>, <span class="fl">2</span>, <span class="va">cars</span><span class="op">)</span></span>
<span><span class="va">s2</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">1</span>,      <span class="fl">2</span>, <span class="fl">3</span>, <span class="va">iris</span><span class="op">)</span></span>
<span></span>
<span><span class="va">s1</span> <span class="op">&amp;</span> <span class="va">s2</span></span>
<span><span class="co"># {1, 2}</span></span>
<span><span class="va">s1</span> <span class="op">|</span> <span class="va">s2</span></span>
<span><span class="co"># {1, "1", 2, &lt;&lt;data.frame(50x2)&gt;&gt;, 3, &lt;&lt;data.frame(150x5)&gt;&gt;}</span></span>
<span><span class="va">s1</span> <span class="op">-</span> <span class="va">s2</span></span>
<span><span class="co"># {"1", &lt;&lt;data.frame(50x2)&gt;&gt;}</span></span></code></pre></div>
<p>It is important to note that set comparison for the standard set is
not order-invariant, e.g.:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">s2</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">setnew</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">s1</span> <span class="op">==</span> <span class="va">s2</span></span>
<span><span class="co"># [1] FALSE</span></span></code></pre></div>
<p>This property is intended to allow positional access also in sets
(remember that technically the ‘Set’ class is derived from
‘Container’).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s1</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="co"># {1, 2}</span></span>
<span><span class="va">s2</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">]</span></span>
<span><span class="co"># {2, 1}</span></span></code></pre></div>
<p>If you want order-invariant sets, just use the
<code>OrderedSet</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">os1</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">as.orderedset</a></span><span class="op">(</span><span class="va">s1</span><span class="op">)</span></span>
<span><span class="va">os2</span> <span class="op">=</span> <span class="fu"><a href="../reference/SetS3.html">as.orderedset</a></span><span class="op">(</span><span class="va">s2</span><span class="op">)</span></span>
<span><span class="va">os1</span></span>
<span><span class="co"># {1, 2, 3}</span></span>
<span><span class="va">os2</span></span>
<span><span class="co"># {1, 2, 3}</span></span>
<span><span class="va">os1</span> <span class="op">==</span> <span class="va">os2</span></span>
<span><span class="co"># [1] TRUE</span></span></code></pre></div>
<p>Last but not least, the <code>container</code> package only covers a
small range of sets and set functions. For a wide range of set
functionality and data structures such as fuzzy sets, multisets,
customizable sets and intervals, please refer to the <a href="https://CRAN.R-project.org/package=sets" class="external-link">sets</a> package by David
Meyer.</p>
</div>
<div class="section level2">
<h2 id="dict">Dict<a class="anchor" aria-label="anchor" href="#dict"></a>
</h2>
<p>In a dictionary, each element is mapped to a name. In the
<code>container</code> package, dicts are always sorted by name, either
after initialization …</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>z <span class="op">=</span> <span class="fl">2</span>, a <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span>
<span><span class="va">d</span></span>
<span><span class="co"># {a = 10, z = 2}</span></span></code></pre></div>
<p>… or when new elements are added.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span><span class="op">[[</span><span class="st">"x"</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="va">d</span></span>
<span><span class="co"># {a = 10, x = 1, z = 2}</span></span></code></pre></div>
<p>If added using the <code>add</code> function, a name clash is
signaled to prevent overwriting existing elements.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/add.html">add</a></span><span class="op">(</span><span class="va">d</span>, z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co"># Error: name 'z' exists already</span></span></code></pre></div>
<p>To overwrite, you can use one of three approaches.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span><span class="op">[[</span><span class="st">"z"</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="fl">3</span></span>
<span><span class="fu"><a href="../reference/replace_at.html">replace_at</a></span><span class="op">(</span><span class="va">d</span>, z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co"># {a = 10, x = 1, z = 3}</span></span>
<span><span class="fu"><a href="../reference/update.html">update</a></span><span class="op">(</span><span class="va">d</span>, <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>z <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># {a = 10, x = 1, z = 3}</span></span></code></pre></div>
<p>By design, elements can be accessed by name or position, the latter
always based on the ordered elements.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span><span class="op">[</span><span class="st">"x"</span>, <span class="st">"a"</span><span class="op">]</span></span>
<span><span class="co"># {a = 10, x = 1}</span></span>
<span><span class="va">d</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co"># {a = 10, x = 1}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/add.html">add</a></span><span class="op">(</span><span class="va">d</span>, b <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">1</span><span class="op">]</span></span>
<span><span class="co"># {a = 10, b = 3}</span></span></code></pre></div>
<p>For more examples see the vignette <a href="https://rpahl.github.io/container/articles/parameter-list.html" class="external-link">Manage
parameter lists with dict</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://rpahl.github.io/r-some-blog/about.html" class="external-link">Roman Pahl</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
