<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Manage parameter lists with dict • container</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Manage parameter lists with dict">
<meta name="description" content="Focuses on how to simplify and safeguard parameter list management using Dict. This vignette demonstrates intuitive operations for adding, extracting, replacing, and merging parameters, eliminating the need for repetitive checks and error handling.
">
<meta property="og:description" content="Focuses on how to simplify and safeguard parameter list management using Dict. This vignette demonstrates intuitive operations for adding, extracting, replacing, and merging parameters, eliminating the need for repetitive checks and error handling.
">
<meta property="og:image" content="https://github.com/rpahl/container/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">container</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../index.html" aria-label="home"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="../articles/container.html">Get Started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://rpahl.github.io/r-some-blog/posts/container1.0/">Version 1.0.0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/index.html">Overview</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Get started</h6></li>
    <li><a class="dropdown-item" href="../articles/container.html">Introduction to container</a></li>
    <li><a class="dropdown-item" href="../articles/code-development.html">Container operations for robust code</a></li>
    <li><a class="dropdown-item" href="../articles/parameter-list.html">Manage parameter lists with dict</a></li>
    <li><a class="dropdown-item" href="../articles/manage-data-columns.html">Manage data columns with dict.table</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Other</h6></li>
    <li><a class="dropdown-item" href="../articles/deque-set-dict.html">Deque, Set, and Dict</a></li>
    <li><a class="dropdown-item" href="../articles/reference-semantics.html">Reference semantics</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="nav-link" href="https://github.com/rpahl/container/" aria-label="github"><span class="fa fab fa-github"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://stackoverflow.com/users/8120617/rpahl" aria-label="stackoverflow"><span class="fa fab fa-stack-overflow"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/rpahl.bsky.social" aria-label="bluesky"><span class="fa fab fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://rpahl.github.io/r-some-blog/" aria-label="blog"><span class="fa fas fa-blog"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Manage parameter lists with dict</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rpahl/container/blob/HEAD/vignettes/parameter-list.Rmd"><code>vignettes/parameter-list.Rmd</code></a></small>
      <div class="d-none name"><code>parameter-list.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="motivation">Motivation<a class="anchor" aria-label="anchor" href="#motivation"></a>
</h2>
<p>The original motivation for the development of this package actually
was that the author found himself writing countless checks and helper
code over and over again when managing parameter lists. It became
apparent that something similar to python’s dictionary would make life
easier and so the idea of the container package was born.</p>
<p>The package has undergone some changes since it’s initial version,
but the <em>dict</em> as a use-case for parameter lists remains very
valid. So without further ado, let’s see how this works out in
practice.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpahl.github.io/container/" class="external-link">container</a></span>, warn.conflicts <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define some parameters</span></span>
<span><span class="va">params</span> <span class="op">=</span> <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>, b <span class="op">=</span> <span class="st">"foo"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="add-or-replace">Add or Replace<a class="anchor" aria-label="anchor" href="#add-or-replace"></a>
</h2>
<p>With a <em>dict</em> the problem of accidentally overriding an
existing parameter value is solved out of the box using the
<code>add</code> function.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span> <span class="op">=</span> <span class="fu"><a href="../reference/add.html">add</a></span><span class="op">(</span><span class="va">params</span>, a <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co"># Error: name 'a' exists already</span></span>
<span></span>
<span><span class="fu"><a href="../reference/add.html">add</a></span><span class="op">(</span><span class="va">params</span>, x <span class="op">=</span> <span class="fl">0</span><span class="op">)</span> <span class="co"># ok</span></span>
<span><span class="co"># {a = (1L 2L 3L 4L ...), b = "foo", x = 0}</span></span></code></pre></div>
<p>Of course, it’s also possible to indeed override a parameter.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/replace_at.html">replace_at</a></span><span class="op">(</span><span class="va">params</span>, a <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co"># {a = 0, b = "foo"}</span></span></code></pre></div>
<p>What if you intend to replace something, but there is nothing to
replace?</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/replace_at.html">replace_at</a></span><span class="op">(</span><span class="va">params</span>, x <span class="op">=</span> <span class="fl">0</span><span class="op">)</span></span>
<span><span class="co"># Error: names(s) not found: 'x'</span></span></code></pre></div>
<p>Now you might wonder, what if <em>‘I don’t care if it is replaced or
added’</em>. That’s easy.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/replace_at.html">replace_at</a></span><span class="op">(</span><span class="va">params</span>, a <span class="op">=</span> <span class="fl">0</span>, .add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># {a = 0, b = "foo"}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/replace_at.html">replace_at</a></span><span class="op">(</span><span class="va">params</span>, x <span class="op">=</span> <span class="fl">0</span>, .add<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># {a = (1L 2L 3L 4L ...), b = "foo", x = 0}</span></span></code></pre></div>
<p>That is, using <code>.add = TRUE</code> basically means, <em>‘replace
it, or, if it is not there, just add it’</em></p>
<p>Maybe you agree that even these simple use-cases already require some
effort when using base R lists.</p>
</div>
<div class="section level2">
<h2 id="extract">Extract<a class="anchor" aria-label="anchor" href="#extract"></a>
</h2>
<p>When extracting a parameter, you might want to be sure it exists and
signal an error otherwise.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/at.html">at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"x"</span><span class="op">)</span></span>
<span><span class="co"># Error: index 'x' not found</span></span>
<span></span>
<span><span class="fu"><a href="../reference/at.html">at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span>
<span><span class="co"># {a = (1L 2L 3L 4L ...), b = "foo"}</span></span></code></pre></div>
<p>To extract a single raw element, use <code>at2</code></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/at2.html">at2</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"a"</span><span class="op">)</span></span>
<span><span class="co">#  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<p>Alternatively, you could use the standard access operators, which
behave like base R list and therefore return an empty <em>dict</em> (or
<code>NULL</code>) if the index is not found.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span><span class="op">[</span><span class="st">"x"</span><span class="op">]</span></span>
<span><span class="co"># {}</span></span>
<span></span>
<span><span class="va">params</span><span class="op">[[</span><span class="st">"x"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co"># NULL</span></span>
<span></span>
<span><span class="va">params</span><span class="op">[</span><span class="st">"a"</span><span class="op">]</span></span>
<span><span class="co"># {a = (1L 2L 3L 4L ...)}</span></span>
<span></span>
<span><span class="va">params</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#  [1]  1  2  3  4  5  6  7  8  9 10</span></span></code></pre></div>
<div class="section level3">
<h3 id="default-values">Default values<a class="anchor" aria-label="anchor" href="#default-values"></a>
</h3>
<p>A nice property of the <em>dict</em> is that it provides an easy and
flexible way to manage default values.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/peek_at.html">peek_at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"x"</span><span class="op">)</span></span>
<span><span class="co"># {}</span></span>
<span></span>
<span><span class="fu"><a href="../reference/peek_at.html">peek_at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"x"</span>, .default <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># {x = (3L 2L 1L)}</span></span></code></pre></div>
<p>That is, if you <em>peek</em> at a non-existing parameter, by default
an empty <em>dict</em> is returned, but with the option to explicitly
set the default. This also works for multiple peeks.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/peek_at.html">peek_at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"a"</span>, <span class="st">"x"</span>, <span class="st">"y"</span>, .default <span class="op">=</span> <span class="fl">3</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co"># {a = (1L 2L 3L 4L ...), x = (3L 2L 1L), y = (3L 2L 1L)}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="remove">Remove<a class="anchor" aria-label="anchor" href="#remove"></a>
</h2>
<p>Similar to the above examples, the user can control how removal of
existing/non-existing parameters is handled. If you expect a parameter
and want to be signaled if it was not there, use
<code>delete</code>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/delete_at.html">delete_at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"x"</span><span class="op">)</span></span>
<span><span class="co"># Error: names(s) not found: 'x'</span></span>
<span></span>
<span><span class="fu"><a href="../reference/delete_at.html">delete_at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"a"</span><span class="op">)</span> <span class="co"># ok</span></span>
<span><span class="co"># {b = "foo"}</span></span></code></pre></div>
<p>Otherwise to loosely delete a parameter, regardless of whether it
exists or not, use <code>discard</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/discard_at.html">discard_at</a></span><span class="op">(</span><span class="va">params</span>, <span class="st">"a"</span>, <span class="st">"x"</span><span class="op">)</span></span>
<span><span class="co"># {b = "foo"}</span></span></code></pre></div>
<p>It’s important to note, that the “base R list way” to delete elements
does not work, because it just inserts a <code>NULL</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span><span class="op">[[</span><span class="st">"a"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="va">params</span></span>
<span><span class="co"># {a = NULL, b = "foo"}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="merge">Merge<a class="anchor" aria-label="anchor" href="#merge"></a>
</h2>
<p>Last but not least, <em>dict</em> allows to easily merge and/or
update parameter lists.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">par1</span> <span class="op">=</span> <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fl">1</span>, b <span class="op">=</span> <span class="st">"foo"</span><span class="op">)</span></span>
<span><span class="va">par2</span> <span class="op">=</span> <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>b <span class="op">=</span> <span class="st">"bar"</span>, x <span class="op">=</span> <span class="fl">2</span>, y <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="../reference/update.html">update</a></span><span class="op">(</span><span class="va">par1</span>, <span class="va">par2</span><span class="op">)</span></span>
<span><span class="co"># {a = 1, b = "bar", x = 2, y = 3}</span></span></code></pre></div>
<p>As can be seen, existing parameters are updated and new parameters
added. Using <code>as.dict</code> you can also do this with ordinary
lists.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/update.html">update</a></span><span class="op">(</span><span class="va">par1</span>, <span class="fu"><a href="../reference/dictS3.html">as.dict</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>b <span class="op">=</span> <span class="st">"my b"</span>, x <span class="op">=</span> <span class="fl">100</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># {a = 1, b = "my b", x = 100}</span></span></code></pre></div>
<p>That’s it. I hope, it will free you some time and safe some bugs next
time you need to manage parameter lists.</p>
<p>As a very last note, keep in mind that since container version 1.0.0,
<em>dict</em> elements are always sorted by their name, while you are
still able to access elements by position (based on the sorted
values).</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">=</span> <span class="fu"><a href="../reference/dictS3.html">dict</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">1</span>, z <span class="op">=</span> <span class="fl">2</span>, a <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="va">d</span></span>
<span><span class="co"># {a = 3, x = 1, z = 2}</span></span>
<span></span>
<span><span class="va">d</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co"># [1] 3</span></span>
<span></span>
<span><span class="va">d</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="co"># {x = 1, z = 2}</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://rpahl.github.io/r-some-blog/about.html" class="external-link">Roman Pahl</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
